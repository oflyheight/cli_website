(this.webpackJsonprestaurantcliente=this.webpackJsonprestaurantcliente||[]).push([[0],{75:function(e,a,t){e.exports=t(96)},80:function(e,a,t){},96:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(67),o=t.n(r),c=(t(80),t(1)),s=t(53),i=t(14),m=t(68),u=t(57),d=t.n(u),p=(t(81),{apiKey:"AIzaSyB4p2A6nd37-IwFCciKzZLc8_k7l6_5TYU",authDomain:"restaurantapp-85cbf.firebaseapp.com",databaseURL:"https://restaurantapp-85cbf.firebaseio.com",projectId:"restaurantapp-85cbf",storageBucket:"restaurantapp-85cbf.appspot.com",messagingSenderId:"673444213031",appId:"1:673444213031:web:67bbaa51d6dbb61399f902",measurementId:"G-LX9XCF0NFZ"}),b=(t(97),new function e(){Object(m.a)(this,e),d.a.initializeApp(p),this.db=d.a.firestore(),this.storage=d.a.storage()}),g=Object(n.createContext)(),f=b,h=function(e){var a=e.orden,t=Object(n.useState)(0),r=Object(i.a)(t,2),o=r[0],c=r[1],s=Object(n.useContext)(g).firebase;return l.a.createElement("div",{className:"sm:w-1/2 lg:w-1/3 px-2 mb-4"},l.a.createElement("div",{className:"p-3 shadow-md bg-white"},l.a.createElement("h1",{className:"text-yellow-600 text-lg font-bold"},a.id),a.orden.map((function(e){return l.a.createElement("p",{className:"text-gray-600"},e.cantidad,e.nombre)})),l.a.createElement("p",{className:"text-gray-700 font-bold"},"Total a Pagar Q. ",a.total),0===a.tiempoentrega&&l.a.createElement("div",{className:"mb-4"},l.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2"},"TIempo de Entrega"),l.a.createElement("input",{type:"number",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",min:"1",max:"20",placeholder:"20",value:o,onChange:function(e){return c(parseInt(e.target.value))}}),l.a.createElement("button",{onClick:function(){return function(e){try{s.db.collection("ordenes").doc(e).update({tiempoentrega:o})}catch(a){console.log(a)}}(a.id)},type:"submit",className:"bg-gray-800 hover:bg-gray-900 w-full mt-5 p-2 text-white uppercase font-bold"},"Definir Tiempo")),a.tiempoentrega>0&&l.a.createElement("p",{className:"text-gray-700"},"Tiempo de entrega:",l.a.createElement("span",{className:"font-bold"},a.tiempoentrega," minutos")),!a.completado&&a.tiempoentrega>0&&l.a.createElement("button",{type:"button",className:"bg-blue-800 hover:bg-blue-700 w-full mt-5 p-2 text-white uppercase font-bold",onClick:function(){return function(e){try{s.db.collection("ordenes").doc(e).update({completado:!0})}catch(a){console.log(a)}}(a.id)}},"Marcar como lista")))},E=function(){var e=Object(n.useContext)(g).firebase,a=Object(n.useState)([]),t=Object(i.a)(a,2),r=t[0],o=t[1];function c(e){var a=e.docs.map((function(e){return Object(s.a)({id:e.id},e.data())}));o(a)}return Object(n.useEffect)((function(){e.db.collection("ordenes").where("completado","==",!1).onSnapshot(c)}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",{className:"text-3xl font-light mb-4"},"Ordenes"),l.a.createElement("div",{className:"sm:flex sm:felx-wrap -mx-3"},r.map((function(e){return l.a.createElement(h,{key:e.id,orden:e})}))))},x=t(20),v=function(e){var a=e.platillo,t=Object(n.useRef)(a.existencia),r=a.id,o=a.nombre,c=a.imagen,s=a.existencia,i=a.categoria,m=a.precio,u=a.descripcion,d=Object(n.useContext)(g).firebase;return l.a.createElement("div",{className:"w-full px-3 mb-4"},l.a.createElement("div",{className:"p-5 shadow-md bg-white"},l.a.createElement("div",{className:"lg:flex"},l.a.createElement("div",{className:"lg:w-5/12 xl:w-3/12"},l.a.createElement("img",{src:c,alt:"Imagen Platillo"}),l.a.createElement("div",{className:"sm:flex sm:-mx-2 pl-2"},l.a.createElement("label",{className:"block mt-5 sm:w-2/4"},l.a.createElement("span",{className:"block text-gray-600 mb-2"},"Existencia"),l.a.createElement("select",{className:"bg-white shadow appearance-none border rounded w-full py-2 px-3 leading-tight focus:outline-none focus:shadow-outline",value:s,ref:t,onChange:function(){return function(){var e="true"===t.current.value;try{d.db.collection("productos").doc(r).update({existencia:e})}catch(a){console.log(a)}}()}},l.a.createElement("option",{value:"true"},"Disponible"),l.a.createElement("option",{value:"false"},"No Disponible"))))),l.a.createElement("div",{className:"lg:w-7/12 xl:w-9/12 pl-5"},l.a.createElement("p",{className:"font-bold text-2xl text-yellow-600 mb-4"},o),l.a.createElement("p",{className:"text-gray-600 mb-4"},"Categoria: "," ",l.a.createElement("span",{className:"text-gray-700 font-bold"},i.toUpperCase())),l.a.createElement("p",{className:"text-gray-600 mb-4"},u),l.a.createElement("p",{className:"text-gray-600 mb-4"},"Q.: "," ",l.a.createElement("span",{className:"text-gray-700 font-bold"},m))))))},N=function(){var e=Object(n.useState)([]),a=Object(i.a)(e,2),t=a[0],r=a[1],o=Object(n.useContext)(g).firebase;function c(e){var a=e.docs.map((function(e){return Object(s.a)({id:e.id},e.data())}));r(a)}return Object(n.useEffect)((function(){o.db.collection("productos").onSnapshot(c)}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",{className:"text-3xl font-light mb-4"},"Men\xfa"),l.a.createElement(x.b,{to:"/nuevo-platillo",className:" bg-blue-800 hover:bg-blue-700, inline-block nb-5 p-2 text-white uppercase font-bold"},"Agregar Platillo"),t.map((function(e){return l.a.createElement(v,{key:t.id,platillo:e})})))},w=t(61),y=t.n(w),j=t(69),O=t(74),C=t(42),k=t(73),S=t.n(k),B=function(){var e=Object(n.useState)(!1),a=Object(i.a)(e,2),t=a[0],r=a[1],o=Object(n.useState)(0),s=Object(i.a)(o,2),m=s[0],u=s[1],d=Object(n.useState)(""),p=Object(i.a)(d,2),b=p[0],f=p[1],h=Object(n.useContext)(g).firebase,E=Object(c.g)(),x=Object(O.a)({initialValues:{nombre:"",precio:"",categoria:"",imagen:"",descripcion:""},validationSchema:C.b({nombre:C.c().min(3,"Los Platillos deben tener almenos 3 caracteres").required("El nombre del platillo es obligatorio"),precio:C.a().min(1,"Debes agregar un n\xfamero").required("El precio del platillo es obligatorio"),categoria:C.c().required("La categoria es obligatoria"),descripcion:C.c().min(10,"La descripci\xf3n debe de ser m\xe1s larga").required("El descripci\xf3n del platillo es obligatorio")}),onSubmit:function(e){try{e.existencia=!0,e.imagen=b,h.db.collection("productos").add(e),E("/menu")}catch(a){console.log(a)}}}),v=function(){var e=Object(j.a)(y.a.mark((function e(a){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(100),r(!1),e.next=4,h.storage.ref("productos").child(a).getDownloadURL();case 4:t=e.sent,console.log(t),f(t);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",{className:"text-3xl font-light mb-4"},"Agregar Platillo"),l.a.createElement("div",{className:"flex justify-center mt-10"},l.a.createElement("div",{className:"w-full max-w-3xl"},l.a.createElement("form",{onSubmit:x.handleSubmit},l.a.createElement("div",{className:"mb-4"},l.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"nombre"},"Nombre"),l.a.createElement("input",{className:"shadow appearance-none \r border rounded w-full py-2 px-3 text-gray-700 \r leading-tight focus:outline-none focus:shadow-outline",id:"nombre",type:"text",placeholder:"Nombre Platillo",value:x.values.nombre,onChange:x.handleChange,onBlur:x.handleBlur})),x.touched.nombre&&x.errors.nombre?l.a.createElement("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",role:"alert"},l.a.createElement("p",{className:"font-bold"},"Hubo un error."),l.a.createElement("p",null,x.errors.nombre)):null,l.a.createElement("div",{className:"mb-4"},l.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"precio"},"Precio"),l.a.createElement("input",{className:"shadow appearance-none \r border rounded w-full py-2 px-3 text-gray-700 \r leading-tight focus:outline-none focus:shadow-outline",id:"precio",type:"number",placeholder:"Q.20",min:"0",value:x.values.precio,onChange:x.handleChange,onBlur:x.handleBlur})),x.touched.precio&&x.errors.precio?l.a.createElement("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",role:"alert"},l.a.createElement("p",{className:"font-bold"},"Hubo un error."),l.a.createElement("p",null,x.errors.precio)):null,l.a.createElement("div",{className:"mb-4"},l.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"categoria"},"Categoria"),l.a.createElement("select",{className:"shadow appearance-none \r border rounded w-full py-2 px-3 text-gray-700 \r leading-tight focus:outline-none focus:shadow-outline",id:"precio",name:"categoria",value:x.values.categoria,onChange:x.handleChange,onBlur:x.handleBlur},l.a.createElement("option",{value:""},"-- Seleccione --"),l.a.createElement("option",{value:"desayuno"},"Desayuno"),l.a.createElement("option",{value:"comida"},"Comida"),l.a.createElement("option",{value:"cena"},"Cena"),l.a.createElement("option",{value:"bebida"},"Bebidas"),l.a.createElement("option",{value:"postre"},"Postre"),l.a.createElement("option",{value:"ensalada"},"Ensalada"))),x.touched.categoria&&x.errors.categoria?l.a.createElement("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",role:"alert"},l.a.createElement("p",{className:"font-bold"},"Hubo un error."),l.a.createElement("p",null,x.errors.categoria)):null,l.a.createElement("div",{className:"mb-4"},l.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"imagen"},"Imagen"),l.a.createElement(S.a,{accept:"image/*",id:"imagen",name:"imagen",randomizeFilename:!0,storageRef:h.storage.ref("productos"),onUploadStart:function(){u(0),r(!0)},onUploadError:function(e){r(!1),console.log(e)},onUploadSuccess:v,onProgress:function(e){u(e),console.log(e)}})),t&&l.a.createElement("div",{className:"h-12 relative w-full border"},l.a.createElement("div",{className:"bg-green-500 absolute left-0 top-0 text-white px-2 text-sm h-12 flex items-center",style:{width:"".concat(m,"%")}},m," %")),b&&l.a.createElement("p",{className:"bg-green-500 text-white p-3 text-center my-5"},"La imagen se subi\xf3 correctamente."),l.a.createElement("div",{className:"mb-4"},l.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"descripcion"},"Descripci\xf3n"),l.a.createElement("textarea",{className:"shadow appearance-none \r border rounded w-full py-2 px-3 text-gray-700 \r leading-tight focus:outline-none focus:shadow-outline h-40",id:"descripcion",placeholder:"Descripci\xf3n del Platillo",value:x.values.descripcion,onChange:x.handleChange,onBlur:x.handleBlur})),x.touched.descripcion&&x.errors.descripcion?l.a.createElement("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",role:"alert"},l.a.createElement("p",{className:"font-bold"},"Hubo un error."),l.a.createElement("p",null,x.errors.descripcion)):null,l.a.createElement("input",{type:"submit",className:"bg-gray-800 hover:bg-gray-900 w-full mt-5 p-2 text-white uppercase font-bold",value:"Agregar Platillo"})))))},F=function(){return l.a.createElement("div",{className:"md:w-2/5 xl:w-1/5 bg-gray-800"},l.a.createElement("div",{className:"p-6"},l.a.createElement("p",{className:"uppercase text-white text-2xl tracking-wide text-center font-bold"},"RestaruanteApp"),l.a.createElement("p",{className:"mt-3 text-gray-600"},"Administra tu restaurant en las siguientes opciones."),l.a.createElement("nav",{className:"mt-10"},l.a.createElement(x.c,{className:"p-1 text-gray-400 block hover:bg-yellow-500 hover:text-gray-900",activeClassName:"text-yellow-500",exact:"true",to:"/"},"Ordenes"),l.a.createElement(x.c,{className:"p-1 text-gray-400 block hover:bg-yellow-500 hover:text-gray-900",activeClassName:"text-yellow-500",exact:"true",to:"/menu"},"Men\xfa"))))};var P=function(){return l.a.createElement(g.Provider,{value:{firebase:f}},l.a.createElement("div",{className:"md:flex min-h-screen"},l.a.createElement(F,null),l.a.createElement("div",{className:"md:w-3/5 xl:w-4/5 p-6"},l.a.createElement(c.c,null,l.a.createElement(c.a,{path:"/",element:l.a.createElement(E,null)}),l.a.createElement(c.a,{path:"/menu",element:l.a.createElement(N,null)}),l.a.createElement(c.a,{path:"/nuevo-platillo",element:l.a.createElement(B,null)})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(x.a,null,l.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[75,1,2]]]);
//# sourceMappingURL=main.c5f84a60.chunk.js.map